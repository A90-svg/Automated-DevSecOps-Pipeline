<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />
  <title>FinSecure</title>

  <!--
       FinSecure prototype (single-file SPA)
    - This version includes inline comments throughout HTML, CSS and JS.
    - Comments explain intent, important variables, and flows developers are likely
      to touch when editing (persistence, routing, authentication, OTP, renderers).
    - SECURITY NOTE (demo only): localStorage persists data (including demo password).
      Do NOT store real credentials in localStorage in production.
  -->

  <style>
    /* ===========================
        Design system / Theme
       ===========================
       These CSS variables define the color palette, spacing, and typography used
       throughout the app. Designers and front-end devs can adjust these to change
       the theme globally. */
    :root {
      --color-bg: #0b1c2e;
      --color-bg-2: #0f2840;
      --color-card: #112f4a;
      --color-border: #1b4469;
      --color-text: #e9f1fb;
      --color-text-dim: #b9c7d6;
      --color-accent: #3ea6ff;
      --color-accent-2: #6bc4ff;
      --color-orange: #ff7a1a;
      --color-orange-2: #ff8f42;
      --color-black: #0a0a0a;
      --color-white: #ffffff;
      --radius: 14px;
      --radius-sm: 10px;
      --shadow-1: 0 8px 24px rgba(0,0,0,0.3);
      --shadow-2: 0 18px 40px rgba(0,0,0,0.45);
      --space: 16px;
      --space-lg: 24px;
      --space-xl: 32px;
      --font-sans: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }

     /* Reset and base styles */
    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      padding: 0;
      background: linear-gradient(145deg, var(--color-bg), var(--color-bg-2) 65%);
      color: var(--color-text);
      font-family: var(--font-sans);
    }

    a {
      color: var(--color-accent);
      text-decoration: none;
    }
    a:hover { color: var(--color-accent-2); }

    .container {
      max-width: 1040px;
      margin: 0 auto;
      padding: var(--space-xl) var(--space);
    }

    /* =========================
       Brand bar + logo + nav
       - This is sticky so it remains visible while scrolling.
       - brand-nav is hidden on public pages (login/signup/reset/otp).
    ========================== */
    .brand-bar {
      display: flex;
      align-items: center;
      gap: var(--space);
      padding: var(--space) var(--space);
      border-bottom: 1px solid var(--color-border);
      backdrop-filter: blur(6px);
      position: sticky;
      top: 0;
      background: rgba(15, 40, 64, 0.55);
      z-index: 1000;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .logo-lock {
      width: 38px;
      height: 38px;
      border-radius: 10px;
      background: linear-gradient(135deg, #173a5a, #26557f);
      border: 2px solid #3ea6ff;
      display: grid;
      place-items: center;
      box-shadow: var(--shadow-1);
      position: relative;
    }
    .logo-lock::before {
      content: "";
      width: 16px;
      height: 12px;
      border-radius: 3px;
      border: 2px solid var(--color-text);
      position: absolute;
      bottom: 8px;
    }
    .logo-lock::after {
      content: "";
      width: 10px;
      height: 10px;
      border-radius: 50%;
      border: 2px solid var(--color-text);
      position: absolute;
      bottom: 10px;
    }

    .logo-img {
      width: 38px;
      height: 38px;
      display: inline-block;
      object-fit: contain;
      border-radius: 8px;
      background: transparent;
      box-shadow: var(--shadow-1);
      border: 1px solid rgba(255,255,255,0.06);
    }

    .logo-title {
      font-weight: 800;
      letter-spacing: 0.5px;
      font-size: 20px;
    }
    .brand-spacer { flex: 1; }

    .brand-nav {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .nav-link {
      padding: 8px 12px;
      border: 1px solid var(--color-border);
      border-radius: 999px;
      color: var(--color-text);
      background: rgba(17,47,74,0.7);
      cursor: pointer;
    }
    .nav-link.active {
      background: var(--color-accent);
      color: var(--color-black);
      border-color: transparent;
    }

    /* =========================
       Panels & form styles
       - Panels are used as pages/containers.
    ========================== */   
    .panel {
      margin-top: var(--space-xl);
      background: linear-gradient(180deg, rgba(17,47,74,0.65), rgba(17,47,74,0.55));
      border: 1px solid var(--color-border);
      border-radius: var(--radius);
      box-shadow: var(--shadow-1);
      overflow: hidden;
    }
    .panel-header {
      padding: var(--space-lg);
      border-bottom: 1px solid var(--color-border);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .panel-title {
      font-size: 20px;
      font-weight: 700;
    }
    .panel-body {
      padding: var(--space-xl);
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-lg);
    }
    .form-grid.full { grid-template-columns: 1fr; }
    .form-row { display: flex; flex-direction: column; gap: 8px; }
    label { color: var(--color-text-dim); font-size: 14px; }
    input {
      padding: 12px 14px;
      background: #0f243b;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      color: var(--color-text);
      outline: none;
      transition: border-color 0.2s ease;
    }
    input:focus { border-color: var(--color-accent); }

    .form-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space);
      margin-top: var(--space-xl);
    }
    .btn {
      padding: 12px 18px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 700;
      letter-spacing: 0.2px;
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--color-orange), var(--color-orange-2));
      color: var(--color-black);
      box-shadow: var(--shadow-1);
    }
    .btn-primary:hover {
      filter: brightness(1.05);
      transform: translateY(-1px);
    }
    .btn-secondary {
      background: linear-gradient(135deg, var(--color-accent), var(--color-accent-2));
      color: var(--color-black);
      box-shadow: var(--shadow-1);
    }
    .btn-link {
      background: transparent;
      color: var(--color-accent);
      border: 1px dashed var(--color-border);
    }

    .hint {
      font-size: 13px;
      color: var(--color-text-dim);
    }
    .error {
      color: #ff6b6b;
      font-size: 13px;
      margin-top: 6px;
    }
    .success {
      color: #5fd38a;
      font-size: 13px;
      margin-top: 6px;
    }

    /* =========================
       Dashboard styles
       - Balance card, quick actions, visa card mockup, mini-widgets
    ========================== */
    .dashboard-grid {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: var(--space-xl);
    }
    .balance-card {
      background: radial-gradient(1200px 400px at 10% 0%, #13375a 0%, #0f2840 80%);
      border: 1px solid var(--color-border);
      border-radius: var(--radius);
      padding: var(--space-xl);
      box-shadow: var(--shadow-2);
      position: relative;
      overflow: hidden;
    }
    .balance-label { color: var(--color-text-dim); font-size: 14px; }
    .balance-value {
      margin-top: 8px;
      font-size: 36px;
      font-weight: 800;
      letter-spacing: 0.4px;
    }
    .quick-actions {
      margin-top: var(--space-lg);
      display: flex;
      gap: var(--space);
      flex-wrap: wrap;
    }
    .qa {
      background: rgba(17,47,74,0.65);
      border: 1px solid var(--color-border);
      border-radius: 12px;
      padding: 12px 14px;
      font-weight: 600;
      color: var(--color-text);
      cursor: pointer;
    }
    .qa:hover { border-color: var(--color-accent); }

    /* Visa card visual styles (purely decorative) */
    .visa-card {
      margin-top: var(--space-xl);
      background: linear-gradient(135deg, #0c2238, #173a5a 60%, #2a5f90);
      border: 1px solid #19527f;
      border-radius: 24px;
      padding: 22px;
      color: var(--color-white);
      width: 100%;
      max-width: 480px;
      box-shadow: var(--shadow-2);
      position: relative;
      overflow: hidden;
    }
    .visa-chip {
      width: 50px;
      height: 36px;
      border-radius: 8px;
      background: linear-gradient(135deg, #d9d9d9, #9b9b9b);
      box-shadow: 0 4px 10px rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.3);
    }
    .visa-contactless {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 30% 50%, transparent 8px, rgba(255,255,255,0.6) 9px, transparent 10px),
        radial-gradient(circle at 50% 50%, transparent 4px, rgba(255,255,255,0.5) 5px, transparent 6px),
        radial-gradient(circle at 70% 50%, transparent 2px, rgba(255,255,255,0.4) 3px, transparent 4px);
      opacity: 0.7;
    }
    .visa-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space);
    }
    .visa-number {
      margin-top: 16px;
      font-size: 22px;
      letter-spacing: 2px;
      font-weight: 700;
    }
    .visa-name-row {
      margin-top: 14px;
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      color: #dbe6f3;
    }
    .visa-brand {
      font-weight: 800;
      letter-spacing: 1px;
    }
    .visa-logo {
      font-size: 22px;
      font-weight: 900;
      letter-spacing: 1px;
      color: #ffd54f;
      text-shadow: 0 2px 10px rgba(0,0,0,0.4);
    }
    .visa-emboss {
      position: absolute;
      right: -30px;
      top: -30px;
      width: 160px;
      height: 160px;
      border-radius: 50%;
      background: radial-gradient(closest-side, rgba(255,255,255,0.08), transparent);
      border: 1px dashed rgba(255,255,255,0.15);
      transform: rotate(15deg);
    }

    .visa-small-logo {
      position: absolute;
      right: 18px;
      bottom: 18px;
      width: 56px;
      height: 32px;
      object-fit: contain;
      opacity: 0.95;
      filter: drop-shadow(0 4px 10px rgba(0,0,0,0.6));
    }

    .mini-widgets {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--space-xl);
    }
    .widget {
      background: rgba(17,47,74,0.6);
      border: 1px solid var(--color-border);
      border-radius: var(--radius);
      padding: var(--space-lg);
      box-shadow: var(--shadow-1);
    }
    .widget-title { font-weight: 700; margin-bottom: 8px; }

    /* =========================
       History page styles
       - Search bar, transaction list/items
    ========================== */
    .history-toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: var(--space);
      margin-bottom: var(--space-lg);
    }
    .search-input {
      flex: 1;
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .search-input input { width: 100%; }
    .history-list {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }
    .tx-item {
      display: grid;
      grid-template-columns: 48px 1fr auto;
      align-items: center;
      gap: var(--space);
      background: rgba(17,47,74,0.55);
      border: 1px solid var(--color-border);
      border-radius: 14px;
      padding: 12px;
    }
    .tx-icon {
      width: 48px;
      height: 48px;
      border-radius: 10px;
      background: linear-gradient(135deg, #13375a, #1b4469);
      display: grid;
      place-items: center;
      color: var(--color-white);
      font-weight: 800;
      border: 1px solid var(--color-border);
    }
    .tx-meta {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }
    .tx-title { font-weight: 700; }
    .tx-sub { color: var(--color-text-dim); font-size: 13px; }
    .tx-amount {
      font-weight: 800;
      letter-spacing: 0.3px;
    }
    .tx-amount.negative { color: #ff6b6b; }
    .tx-amount.positive { color: #5fd38a; }

     /* OTP / MFA inputs */
    .otp-grid {
      display: grid;
      grid-template-columns: repeat(6, 50px);
      gap: 10px;
      justify-content: start;
      margin-top: var(--space);
    }
    .otp-input {
      text-align: center;
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 2px;
      padding: 8px;
      background: #0f243b;
      border: 1px solid var(--color-border);
      border-radius: 8px;
      color: var(--color-text);
    }

    .terms-img {
      margin-top: var(--space);
      width: 100%;
      height: 160px;
      border-radius: var(--radius);
      border: 1px dashed var(--color-border);
      background:
        linear-gradient(135deg, rgba(62,166,255,0.15), rgba(255,122,26,0.15)),
        repeating-linear-gradient(45deg, rgba(255,255,255,0.06) 0 10px, rgba(255,255,255,0.08) 10px 20px);
    }

    .footer {
      margin-top: var(--space-xl);
      padding: var(--space-lg);
      color: var(--color-text-dim);
      font-size: 13px;
      border-top: 1px solid var(--color-border);
      text-align: center;
    }

    /* Responsive tweaks */
    @media (max-width: 900px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <!-- Brand bar with logo + simple nav -->
  <div class="brand-bar">
    <div class="logo">
      <img src="lock-logo.png" alt="FinSecure logo" class="logo-img" />
      <div class="logo-title">FINSECURE</div>
    </div>
    <div class="brand-spacer"></div>

    <!-- Top navigation. Hidden for unauthenticated pages by JS. -->
    <div class="brand-nav" id="brand-nav" aria-hidden="true">
      <a class="nav-link" href="#/dashboard" data-nav>Home</a>
      <a class="nav-link" href="#/history" data-nav>Transactions</a>
      <a class="nav-link" href="#/terms" data-nav>Terms</a>
      <a class="nav-link" href="#" id="nav-logout">Logout</a>
    </div>
  </div>

  <div class="container">
    <!-- Login Page -->
    <section id="page-login" class="panel" hidden>
      <div class="panel-header">
        <span>üîê</span>
        <div class="panel-title">Login</div>
      </div>
      <div class="panel-body">
        <div class="form-grid full">
          <div class="form-row">
            <label>Email</label>
            <input id="login-email" type="email" placeholder="ex. finsecureapp@gmail.com" autocomplete="off" />
          </div>
          <div class="form-row">
            <label>Password</label>
            <input id="login-password" type="password" placeholder="ex. FinSecure123!" autocomplete="new-password" />
            <div class="form-actions" style="justify-content:flex-start;">
               <!-- "Forgot password?" navigates to reset page --> 
              <button class="btn btn-link" id="link-forgot">Forgot password?</button>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button class="btn btn-primary" id="btn-login">Login</button>
          <div class="hint">
            Don't have an account?
            <a href="#/signup" id="link-signup">Signup</a>
          </div>
        </div>

         <!-- login-message is used to display errors -->
        <div id="login-message" class="error" style="display:none;"></div>

        <div class="hint" style="margin-top:16px;">
          For demo, try:
          <strong>email:</strong> finsecureapp@gmail.com,
          <strong>password:</strong> FinSecure123!
        </div>
      </div>
    </section>

    <!-- Signup Page -->
    <section id="page-signup" class="panel" hidden>
      <div class="panel-header">
        <span>üßæ</span>
        <div class="panel-title">Signup</div>
      </div>
      <div class="panel-body">
        <div class="form-grid">
          <div class="form-row">
            <label>First name</label>
            <input id="su-first" type="text" placeholder="ex. mark" autocomplete="given-name" />
          </div>
          <div class="form-row">
            <label>Last name</label>
            <input id="su-last" type="text" placeholder="ex. blue" autocomplete="family-name" />
          </div>
          <div class="form-row">
            <label>Email</label>
            <input id="su-email" type="email" placeholder="ex. finsecureapp@gmail.com" autocomplete="email" />
          </div>
          <div class="form-row">
            <label>Phone</label>
            <input id="su-phone" type="tel" placeholder="ex. 33344455" autocomplete="tel" />
          </div>
          <div class="form-row">
            <label>Password</label>
            <input id="su-password" type="password" placeholder="ex. FinSecure123!" autocomplete="new-password" />
            <div class="hint">
              Not less than 12 characters, including capital and small letters, numbers, and at least one special character.
            </div>
          </div>
          <div class="form-row">
            <label>Confirm password</label>
            <input id="su-confirm" type="password" placeholder="ex. FinSecure123!" autocomplete="new-password" />
          </div>
        </div>
        <div class="form-actions">
          <button class="btn btn-primary" id="btn-signup">Signup</button>
          <div class="hint">
            By clicking this button, you agree with our
            <a href="#/terms">terms and conditions</a>.
          </div>
        </div>
        <div class="hint" style="margin-top:12px;">
          Have an account? <a href="#/login">Login</a>
        </div>
        <div id="signup-message" class="error" style="display:none;"></div>
        <div id="signup-success" class="success" style="display:none;"></div>
      </div>
    </section>

    <!-- Reset Page -->
    <section id="page-reset" class="panel" hidden>
      <div class="panel-header">
        <span>üîÅ</span>
        <div class="panel-title">Reset password</div>
      </div>
      <div class="panel-body">
        <div class="form-grid full">
          <div class="form-row">
            <label>New password</label>
            <input id="rp-password" type="password" placeholder="New password" autocomplete="new-password" />
          </div>
          <div class="form-row">
            <label>Confirm password</label>
            <input id="rp-confirm" type="password" placeholder="Confirm password" autocomplete="new-password" />
          </div>
        </div>
        <div class="form-actions">
          <button class="btn btn-primary" id="btn-reset">Confirm</button>
          <div class="hint">After reset, you'll be redirected to login.</div>
        </div>
        <div id="reset-message" class="error" style="display:none;"></div>
        <div id="reset-success" class="success" style="display:none;"></div>
      </div>
    </section>

    <!-- OTP / MFA Page -->
    <section id="page-otp" class="panel" hidden>
      <div class="panel-header">
        <span>üìß</span>
        <div class="panel-title">Two-factor authentication</div>
      </div>
      <div class="panel-body">
        <div class="hint" id="otp-instruction">
          We've sent a 6-digit code to your email. Enter it below to continue.
        </div>

        <div class="hint" id="otp-hint" style="margin-top:8px;"></div>

        <div class="otp-grid" id="otp-grid" aria-label="OTP inputs">
        </div>

        <div class="form-actions" style="margin-top:12px;">
          <button class="btn btn-primary" id="btn-verify-otp">Verify</button>
          <button class="btn btn-link" id="btn-resend-otp">Resend code</button>
          <div class="hint" id="otp-timer" style="min-width:120px; text-align:right;"></div>
        </div>
        <div id="otp-message" class="error" style="display:none;"></div>
      </div>
    </section>

    <!-- Dashboard Page (Main Page)-->
    <section id="page-dashboard" class="panel" hidden>
      <div class="panel-header">
        <span>üè†</span>
        <div class="panel-title">Dashboard</div>
      </div>
      <div class="panel-body">
        <div class="dashboard-grid">
          <div>
            <div class="balance-card">
              <div class="balance-label">Available balance</div>
              <div class="balance-value" id="balance-value">BHD 1,842.75</div>
              <div class="quick-actions">
                <div class="qa" id="qa-add-funds">Add funds</div>
                <div class="qa" id="qa-transfer">Transfer</div>
                <div class="qa" id="qa-pay-bills">Pay bills</div>
                <div class="qa" id="qa-exchange">Exchange</div>
              </div>

              <div class="visa-card" aria-label="FinSecure Visa card">
                <div class="visa-row">
                  <div class="visa-chip" aria-hidden="true"></div>
                  <div class="visa-contactless" title="Contactless" aria-hidden="true"></div>
                </div>
                <div class="visa-number" id="visa-number">4242 68‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢21 9012</div>
                <div class="visa-name-row">
                  <div id="visa-name">MARK BLUE</div>
                  <div class="visa-brand">
                    <span class="visa-logo">VISA</span>
                  </div>
                </div>
                <div class="visa-emboss" aria-hidden="true"></div>
              </div>

              <div class="hint" style="margin-top:12px;">
                Card styling is a mock visual for the demo; it does not represent an actual issued card.
              </div>
            </div>
          </div>

          <div class="mini-widgets">
            <div class="widget">
              <div class="widget-title">Insights</div>
              <div class="hint">
                Bahrain‚Äôs fintech ecosystem is vibrant; this demo is localized for BHD currency and common flows.
              </div>
            </div>
            <div class="widget">
              <div class="widget-title">Cards & accounts</div>
              <div class="hint">
                Virtual cards and multi-currency control are common in modern digital banks; this demo illustrates similar UX patterns.
              </div>
            </div>
            <div class="widget">
              <div class="widget-title">Merchants</div>
              <div class="hint">
                Merchant payments, refunds and settlements are shown as mock transactions for visualization.
              </div>
            </div>
          </div>
        </div>

        <div class="form-actions" style="margin-top:32px;">
          <a class="btn btn-secondary" href="#/history">View transactions</a>
        </div>
      </div>
    </section>

    <!-- Transactions History Page -->
    <section id="page-history" class="panel" hidden>
      <div class="panel-header">
        <span>‚åö</span>
        <div class="panel-title">Transaction history</div>
      </div>
      <div class="panel-body">
        <div class="history-toolbar">
          <div class="search-input">
            <input id="tx-search" type="text" placeholder="Search by merchant or note..." />
            <button class="btn btn-secondary" id="btn-search">Search</button>
          </div>
          <div class="hint" id="tx-count">0 transactions</div>
        </div>
        <div class="history-list" id="tx-list">
        </div>
      </div>
    </section>

    <!-- Terms & Conditions -->
    <section id="page-terms" class="panel" hidden>
      <div class="panel-header">
        <span>üìú</span>
        <div class="panel-title">Terms and conditions</div>
      </div>
      <div class="panel-body">
        <p>
          This prototype app uses mock data for demonstration purposes only. All names, card numbers, balances, and transactions are fictional and do not represent real accounts or financial activity. By continuing, you acknowledge this is a UI/UX sample intended to illustrate common fintech flows (authentication, MFA, dashboard, transfers, and history) and is not connected to any live banking systems or payment networks.
        </p>

        <p>
          This fintech app is developed to be used as a testbed for automated DevSecOps pipelines. It is provided as a demonstration environment for CI/CD, security checks, and infrastructure automation; no real funds or live integrations are used here.
        </p>

        <!-- <div class="terms-img" aria-label="Placeholder illustration for terms content"></div> -->
       <!-- <p class="hint" style="margin-top:12px;">
          Bahrain‚Äôs ecosystem for fintech is supported by local initiatives fostering collaboration across industry and government.
        </p>
     </div> -->
    </section>

    <div class="footer" id="footer">
      FinSecure Prototype ‚Ä¢ Made for demo purposes ‚Ä¢ Bahrain context: BHD, localized UI references only.
    </div>
  </div>

  <script src="app.js" type="module"></script>
</body>
</html>